language: cpp
os: 
  - linux
  - osx
compiler:
  - gcc
  - clang

# For now disable gcc on osx as g++4.8 is not yet available
#matrix:
#  exclude:
#    - os: osx
#      compiler: gcc
#
#

before_install:
  - echo $TRAVIS_OS_NAME
  - if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo add-apt-repository "deb http://us.archive.ubuntu.com/ubuntu/ trusty universe"; fi
  - if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get update; fi
  - if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get install libboost-thread-dev libboost-iostreams-dev libboost-timer-dev; fi #libblitz0-dev gnuplot-nox libgnuplot-iostream-dev libhdf5-dev
    #  - sudo apt-get install libboost-date_time-dev
    #  - sudo apt-get install libboost-filesystem-dev
    
  - if [ $TRAVIS_OS_NAME == 'osx' ]; then brew update; fi

before_script:
    - mkdir build && cd build
    - cmake -DCMAKE_BUILD_TYPE=RELEASE ../

script:
    - make

after_script:
    - make test
